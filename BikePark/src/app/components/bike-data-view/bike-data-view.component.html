<div *ngIf="loaded" class="flex">

  <div class="map">
    <!--TODO bike marker should be imported as component? or directive? so we can provide variable into svg-->
    <agm-map (mapReady)="storeMapReady($event)"
             [latitude]="parkLat"
             [longitude]="parkLng"
             [panControl]="false"
             [streetViewControl]="false">
      <agm-marker [iconUrl]="'../../../assets/bikeIcon.svg'" [latitude]="parkLat" [longitude]="parkLng"></agm-marker>
      <agm-marker [iconUrl]="'../../../assets/locationIcon.svg'" [latitude]="userLat" [longitude]="userLng"></agm-marker>
    </agm-map>
  </div>

  <div *ngFor="let item of BikePark let i = index" class="container-parking" (click)="toggleMap($event)" id= {{i}} attr.geo="{{item.geometry.coordinates}}">

    <div class="wrapper">
      <div>
        <div class="place-text">
          {{item.id}} {{item.properties.label}}
        </div>
        <div>
          <div class="distance">
            {{item.distance}} km
          </div>
          <div class="dot">
            <svg width="3px" height="3px" viewBox="0 0 3 3" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink">
              <defs></defs>
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="rowery" transform="translate(-69.000000, -186.000000)" fill="#BCBCBC">
                  <g id="1" transform="translate(10.000000, 137.000000)">
                    <circle id="Oval" cx="60.5" cy="50.5" r="1.5"></circle>
                  </g>
                </g>
              </g>
            </svg>
          </div>
          <div class="details-text">
            {{item.address}}
          </div>
        </div>
      </div>

      <div class="flex-2">
        <div class="flex-3">
          <div class="p-t">
            <svg width="20px" height="19px" viewBox="0 0 20 19" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink">
              <defs></defs>
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="rowery" transform="translate(-99.000000, -216.000000)" fill="#000000" fill-rule="nonzero">
                  <g id="1" transform="translate(10.000000, 137.000000)">
                    <g id="Group-3" transform="translate(60.000000, 79.000000)">
                      <path
                        d="M39,0.0103127887 L39,2.01031279 C40.277344,2.01031279 41.511719,1.98687579 42.25,2.13531279 C42.617188,2.20953179 42.832031,2.31890679 42.90625,2.38531279 C42.980469,2.45171879 43,2.44390679 43,2.69781279 C43,2.75250079 43.011719,2.77203179 42.9375,2.85406279 C42.863281,2.93609379 42.6875,3.07281279 42.5,3.16656279 C42.121094,3.35406279 41.71875,3.41656279 41.71875,3.41656279 L40.71875,3.63531279 L40.9375,4.63531279 L41.15625,5.57281279 C38.707031,5.89312579 36.757813,7.20953179 35.375,8.51031279 L34.53125,7.57281279 C34.675781,7.52593779 34.902344,7.44781279 35,7.41656279 C35.800781,7.11578179 36,6.90875079 36,6.01031279 L30,6.01031279 C30,7.81109379 31,8.19781279 32,8.19781279 C32.105469,8.19781279 32.265625,8.15875079 32.40625,8.13531279 L34,10.0103128 C33.585938,10.5298438 33.414063,10.7837508 33.25,11.0415628 C33.167969,11.0376568 33.085938,11.0103128 33,11.0103128 C30.800781,11.0103128 29,12.8110938 29,15.0103128 C29,17.2095318 30.800781,19.0103128 33,19.0103128 C35.199219,19.0103128 37,17.2095318 37,15.0103128 C37,13.6353128 36.28125,12.4165628 35.21875,11.6978128 C36.21875,10.3931258 38.5,7.93609379 41.5625,7.57281279 L41.96875,9.41656279 C40.203125,10.1821878 39,11.9360938 39,14.0103128 C39,16.8110938 41.199219,19.0103128 44,19.0103128 C46.800781,19.0103128 49,16.8110938 49,14.0103128 C49,11.2095318 46.800781,9.01031279 44,9.01031279 C43.980469,9.01031279 43.957031,9.01031279 43.9375,9.01031279 L43.0625,5.07281279 C43.222656,5.01421879 43.226563,5.03765679 43.40625,4.94781279 C43.742188,4.77984379 44.085938,4.55328179 44.40625,4.19781279 C44.726563,3.84234379 45,3.29156279 45,2.69781279 C45,2.00250079 44.722656,1.34625079 44.25,0.916562789 C43.777344,0.486875789 43.195313,0.279843789 42.625,0.166562789 C41.488281,-0.0599992113 40.222656,0.0103127887 39,0.0103127887 Z M44.375,11.0415628 C45.886719,11.2173438 47,12.4360938 47,14.0103128 C47,15.7095318 45.699219,17.0103128 44,17.0103128 C42.300781,17.0103128 41,15.7095318 41,14.0103128 C41,12.8970318 41.574219,11.9634378 42.4375,11.4478128 L43,14.0103128 L43.03125,14.2290628 L43.0625,14.2290628 C43.167969,14.6665628 43.527344,15.0103128 44,15.0103128 C44.550781,15.0103128 45,14.5610938 45,14.0103128 C45,13.9282818 44.957031,13.8657818 44.9375,13.7915628 L44.96875,13.7915628 L44.375,11.0415628 Z M33,13.0103128 C33.136719,13.0103128 33.277344,13.0142188 33.40625,13.0415628 C33.417969,13.0532818 33.425781,13.0610938 33.4375,13.0728128 C33.464844,13.0806258 33.503906,13.0650008 33.53125,13.0728128 C33.5625,13.0845318 33.59375,13.0962508 33.625,13.1040628 C34.421875,13.3657818 35,14.1275008 35,15.0103128 C35,16.1118758 34.101563,17.0103128 33,17.0103128 C31.898438,17.0103128 31,16.1118758 31,15.0103128 C31,13.9087508 31.898438,13.0103128 33,13.0103128 Z"
                        id="Shape"></path>
                    </g>
                  </g>
                </g>
              </g>
            </svg>
          </div>
          <div class="bikes-text">
            Available bikes
          </div>
          <div class="bikes-number">
            {{item.properties.bikes}}
          </div>
        </div>
        <div class="flex-3">
          <div class="p-t">
            <svg width="15px" height="21px" viewBox="0 0 15 21" version="1.1" xmlns="http://www.w3.org/2000/svg"
                 xmlns:xlink="http://www.w3.org/1999/xlink">
              <defs></defs>
              <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g id="rowery-1" transform="translate(-259.000000, -554.000000)" fill="#000000" fill-rule="nonzero">
                  <g id="dane" transform="translate(24.000000, 486.000000)">
                    <g id="Group-3" transform="translate(200.000000, 68.000000)">
                      <g id="icons8-unlock_2" transform="translate(35.000000, 0.000000)">
                        <path
                          d="M7.5,0 C4.79003906,0 2.51586938,1.91894531 1.9921875,4.48242188 L3.83789062,4.86328125 C4.18579125,3.15673875 5.67993187,1.875 7.5,1.875 C9.58007812,1.875 11.25,3.54492188 11.25,5.625 L11.25,6.65039062 C10.1440434,6.00952125 8.86962938,5.625 7.5,5.625 C3.35815406,5.625 0,8.98315406 0,13.125 C0,17.2668459 3.35815406,20.625 7.5,20.625 C11.6418459,20.625 15,17.2668459 15,13.125 C15,11.224365 14.2895512,9.49584938 13.125,8.17382812 L13.125,5.625 C13.125,2.53051781 10.5944822,0 7.5,0 Z M7.5,7.5 C10.6018069,7.5 13.125,10.0231931 13.125,13.125 C13.125,16.2268069 10.6018069,18.75 7.5,18.75 C4.39819313,18.75 1.875,16.2268069 1.875,13.125 C1.875,10.0231931 4.39819313,7.5 7.5,7.5 Z M7.5,11.25 C6.46362281,11.25 5.625,12.0886228 5.625,13.125 C5.625,14.1613772 6.46362281,15 7.5,15 C8.53637719,15 9.375,14.1613772 9.375,13.125 C9.375,12.0886228 8.53637719,11.25 7.5,11.25 Z"
                          id="Shape"></path>
                      </g>
                    </g>
                  </g>
                </g>
              </g>
            </svg>
          </div>
          <div class="bikes-text">
            Available racks
          </div>

          <div class="racks-number">
            {{item.properties.free_racks}}
          </div>
        </div>

      </div>



    </div>
  </div>
</div>
